{{ with .Site.Params.Map }}
  <div id="map" class="box"></div>
  {{ if eq .service "osm" }}
    {{ if .latitude }}
      {{ if .longitude }}
          {{ "<!-- OpenStreetMap -->" | safeHTML }}
          <span style="display: none; visibility: hidden">
            <input id="map-lat" value="{{ .latitude }}" />
            <input id="map-lng" value="{{ .longitude }}" />
            <input id="map-zoom" value="{{ .zoom }}" />
          </span>
      {{ end }}
    {{ end }}
  {{ else if eq .service "google" }}
    <script>
        var map;
        var centre = {lat: {{ float .latitude }}, lng: {{ float .longitude}}};
        function initMap() {
          map = new google.maps.Map(document.getElementById('map'), {
            center: centre,
            zoom: {{ float .zoom }}
          });
          marker = new google.maps.Marker({position: centre, map: map});
        }
      </script>
      <script src="https://maps.googleapis.com/maps/api/js?key={{- .api_key -}}&callback=initMap"
      async defer></script>
  {{ end }}
{{ end }}
